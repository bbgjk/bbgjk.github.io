<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<title>Windows 11 网页模拟</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<style>
:root{--taskbar-bg:rgba(32,32,32,0.85);--taskbar-height:48px;--win-bg:#202020;--win-header:#2b2b2b;--accent:#0078d4;--text:#fff;--radius:8px;--shadow:0 8px 24px rgba(0,0,0,.4);}
*{box-sizing:border-box;margin:0;padding:0;}
body,html{height:100%;overflow:hidden;font-family:Segoe UI,system-ui,-apple-system,BlinkMacSystemFont,sans-serif;background:url('https://bbgjk.github.io/p.png') center/cover no-repeat fixed;color:var(--text);}
#desktop{position:absolute;top:0;left:0;right:0;bottom:var(--taskbar-height);padding:20px;display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));grid-gap:20px;align-content:start;}
.desktop-icon{display:flex;flex-direction:column;align-items:center;text-align:center;cursor:pointer;padding:8px;border-radius:var(--radius);transition:background .2s;}
.desktop-icon:hover{background:rgba(255,255,255,.12);}
.desktop-icon img{width:48px;height:48px;margin-bottom:6px;}
.desktop-icon span{font-size:12px;}

#taskbar{position:fixed;bottom:0;left:0;right:0;height:var(--taskbar-height);background:var(--taskbar-bg);backdrop-filter:blur(20px);display:flex;align-items:center;padding:0 8px;z-index:1000;}
.start-button{width:40px;height:40px;border:none;border-radius:50%;background:transparent;display:flex;align-items:center;justify-content:center;cursor:pointer;margin-right:4px;}
.start-button:hover{background:rgba(255,255,255,.12);}
.taskbar-icon{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:50%;cursor:pointer;margin:0 2px;}
.taskbar-icon:hover{background:rgba(255,255,255,.12);}
.taskbar-icon.active{background:rgba(255,255,255,.2);}
#clock{font-size:12px;margin-left:auto;padding:0 12px;}

#start-menu{position:fixed;bottom:calc(var(--taskbar-height) + 8px);left:12px;width:320px;background:rgba(32,32,32,.95);backdrop-filter:blur(20px);border-radius:var(--radius);box-shadow:var(--shadow);padding:8px 0;display:none;z-index:1001;}
.start-menu.show{display:block;}
.start-item{padding:10px 16px;cursor:pointer;display:flex;align-items:center;gap:12px;}
.start-item:hover{background:rgba(255,255,255,.12);}
.start-item img{width:24px;height:24px;}

#action-center{position:fixed;bottom:var(--taskbar-height);right:12px;width:280px;background:rgba(32,32,32,.95);backdrop-filter:blur(20px);border-radius:var(--radius);box-shadow:var(--shadow);padding:12px;display:none;z-index:1001;}
#action-center.show{display:block;}
.action-row{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px;}
.action-row:last-child{margin-bottom:0;}
.action-label{font-size:13px;}
.action-icon{width:20px;height:20px;fill:var(--text);}

.window{position:absolute;background:var(--win-bg);border-radius:var(--radius);box-shadow:var(--shadow);display:none;flex-direction:column;overflow:hidden;min-width:320px;min-height:200px;z-index:500;}
.window.active{z-index:999;}
.window-header{height:40px;background:var(--win-header);display:flex;align-items:center;justify-content:space-between;padding:0 12px;cursor:move;user-select:none;}
.window-title{flex:1;font-size:14px;}
.window-controls{display:flex;gap:6px;}
.window-control{width:12px;height:12px;border-radius:50%;cursor:pointer;}
.window-minimize{background:#ffb900;}
.window-maximize{background:#00ca4e;}
.window-close{background:#ff605c;}
.window-content{flex:1;padding:12px;overflow:auto;font-size:14px;line-height:1.5;}

.desktop-icon img[src=""], .taskbar-icon img[src=""]{background:#555;border-radius:4px;}
</style>
</head>
<body>
<div id="desktop">
  <div class="desktop-icon" data-app="about">
    <img src="https://img.icons8.com/color/48/windows-11.png" alt="About" />
    <span>关于</span>
  </div>
  <div class="desktop-icon" data-app="browser">
    <img src="https://img.icons8.com/color/48/chrome--v1.png" alt="Browser" />
    <span>浏览器</span>
  </div>
  <div class="desktop-icon" data-app="notepad">
    <img src="https://img.icons8.com/color/48/notepad--v1.png" alt="Notepad" />
    <span>记事本</span>
  </div>
</div>

<div id="taskbar">
  <button class="start-button" id="startBtn">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4 6h16v2H4V6zm0 5h16v2H4v-2zm0 5h16v2H4v-2z" fill="currentColor"/></svg>
  </button>
  <div class="taskbar-icon" data-app="about" title="关于"><img src="https://img.icons8.com/color/32/windows-11.png" alt="About" /></div>
  <div class="taskbar-icon" data-app="browser" title="浏览器"><img src="https://img.icons8.com/color/32/chrome--v1.png" alt="Browser" /></div>
  <div class="taskbar-icon" data-app="notepad" title="记事本"><img src="https://img.icons8.com/color/32/notepad--v1.png" alt="Notepad" /></div>
  <div id="clock"></div>
</div>

<div id="start-menu">
  <div class="start-item" data-app="about"><img src="https://img.icons8.com/color/24/windows-11.png" alt="About" /><span>关于 Windows 11</span></div>
  <div class="start-item" data-app="browser"><img src="https://img.icons8.com/color/24/chrome--v1.png" alt="Browser" /><span>浏览器</span></div>
  <div class="start-item" data-app="notepad"><img src="https://img.icons8.com/color/24/notepad--v1.png" alt="Notepad" /><span>记事本</span>
</div>

<div id="action-center">
  <div class="action-row">
    <span class="action-label">Wi‑Fi</span>
    <svg class="action-icon" viewBox="0 0 24 24"><path d="M1 9l2 2 4-4 4 4 4-4 4 4 2-2" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>
  </div>
  <div class="action-row">
    <span class="action-label">蓝牙</span>
    <svg class="action-icon" viewBox="0 0 24 24"><path d="M12 2l4 2v6l-4-2-4 2V2zM8 8v8l4-2V10l4 2V8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
  </div>
  <div class="action-row">
    <span class="action-label">亮度</span>
    <svg class="action-icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="5" stroke="currentColor" stroke-width="2" fill="none"/><line x1="12" y1="1" x2="12" y2="3" stroke="currentColor" stroke-width="2"/><line x1="12" y1="21" x2="12" y2="23" stroke="currentColor" stroke-width="2"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64" stroke="currentColor" stroke-width="2"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78" stroke="currentColor" stroke-width="2"/><line x1="1" y1="12" x2="3" y2="12" stroke="currentColor" stroke-width="2"/><line x1="21" y1="12" x2="23" y2="12" stroke="currentColor" stroke-width="2"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36" stroke="currentColor" stroke-width="2"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22" stroke="currentColor" stroke-width="2"/></svg>
  </div>
  <div class="action-row">
    <span class="action-label">音量</span>
    <svg class="action-icon" viewBox="0 0 24 24"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" fill="currentColor"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07" stroke="currentColor" stroke-width="2" fill="none"/></svg>
  </div>
</div>

<script>
// 工具：生成唯一ID
function uid(){return 'win_'+Date.now()+Math.random().toString(36).slice(2,8);}

// 时钟
function updateClock(){
  const fmt=(d)=>d.toLocaleTimeString('zh-CN',{hour12:false,hour:'2-digit',minute:'2-digit'});
  document.getElementById('clock').textContent=fmt(new Date());
}
setInterval(updateClock,1000);
updateClock();

// 窗口管理
const windows={};
let z=1;
function openWindow({id,title,content,width=640,height=480,icon}){
  if(windows[id]){focusWindow(id);return;}
  const win=document.createElement('div');
  win.className='window active';
  win.id=id;
  win.style.width=width+'px';
  win.style.height=height+'px';
  win.style.left=Math.random()*Math.max(0,window.innerWidth-width-40)+20+'px';
  win.style.top=Math.random()*Math.max(0,window.innerHeight-height-100)+60+'px';
  win.innerHTML=`
    <div class="window-header">
      <div class="window-title">${title}</div>
      <div class="window-controls">
        <div class="window-control window-minimize"></div>
        <div class="window-control window-maximize"></div>
        <div class="window-control window-close"></div>
      </div>
    </div>
    <div class="window-content">${content}</div>
  `;
  document.body.appendChild(win);
  windows[id]={el:win,minimized:false,width,height};
  focusWindow(id);
  // 事件
  const header=win.querySelector('.window-header');
  const minimizeBtn=win.querySelector('.window-minimize');
  const maximizeBtn=win.querySelector('.window-maximize');
  const closeBtn=win.querySelector('.window-close');
  // 拖动
  let drag={x:0,y:0,active:false};
  header.addEventListener('mousedown',e=>{
    drag.active=true;focusWindow(id);
    drag.x=e.clientX-win.offsetLeft;
    drag.y=e.clientY-win.offsetTop;
  });
  window.addEventListener('mousemove',e=>{
    if(!drag.active)return;
    win.style.left=(e.clientX-drag.x)+'px';
    win.style.top=(e.clientY-drag.y)+'px';
  });
  window.addEventListener('mouseup',()=>{drag.active=false;});
  // 控制
  minimizeBtn.addEventListener('click',()=>{
    win.style.display='none';
    windows[id].minimized=true;
  });
  maximizeBtn.addEventListener('click',()=>{
    if(win.style.width==='100%'){
      win.style.width=windows[id].width+'px';
      win.style.height=windows[id].height+'px';
      win.style.left=Math.random()*Math.max(0,window.innerWidth-windows[id].width-40)+20+'px';
      win.style.top=Math.random()*Math.max(0,window.innerHeight-windows[id].height-100)+60+'px';
    }else{
      win.style.width='100%';
      win.style.height='calc(100% - var(--taskbar-height))';
      win.style.left=0;
      win.style.top=0;
    }
  });
  closeBtn.addEventListener('click',()=>{
    win.remove();
    delete windows[id];
  });
}
function focusWindow(id){
  Object.values(windows).forEach(w=>w.el.classList.remove('active'));
  if(windows[id]){
    windows[id].el.classList.add('active');
    windows[id].el.style.zIndex=++z;
  }
}

// 应用内容
const apps={
  about:`<h3>关于 Windows 11</h3><p>这是一个基于 HTML/CSS/JavaScript 的网页模拟，包含桌面、任务栏、开始菜单、窗口管理与操作中心。</p>`,
  browser:`<h3>浏览器</h3><p>这是一个模拟的浏览器窗口，你可以在这里查看说明。</p><p>提示：这是一个前端模拟，不支持真实网络请求。</p>`,
  notepad:`<h3>记事本</h3><textarea style="width:100%;height:calc(100% - 60px);resize:none;background:#111;color:#eee;border:none;padding:8px;border-radius:4px;"></textarea>`
};

// 打开应用
function launch(app){
  const id=uid();
  const cfg={
    about:{title:'关于',icon:'https://img.icons8.com/color/32/windows-11.png'},
    browser:{title:'浏览器',icon:'https://img.icons8.com/color/32/chrome--v1.png'},
    notepad:{title:'记事本',icon:'https://img.icons8.com/color/32/notepad--v1.png'}
  }[app];
  openWindow({id,title:cfg.title,content:apps[app],icon:cfg.icon});
}

// 事件绑定
document.querySelectorAll('.desktop-icon, .taskbar-icon, .start-item').forEach(el=>{
  el.addEventListener('click',()=>{
    const app=el.dataset.app;
    if(app) launch(app);
  });
});
document.getElementById('startBtn').addEventListener('click',()=>{
  document.getElementById('start-menu').classList.toggle('show');
});
// 点击空白处关闭开始菜单
window.addEventListener('click',e=>{
  if(!e.target.closest('#start-menu') && !e.target.closest('#startBtn')){
    document.getElementById('start-menu').classList.remove('show');
  }
});
// 右下角托盘
document.querySelector('.taskbar-icon[title="Wi‑Fi"]').addEventListener('click',()=>{
  document.getElementById('action-center').classList.toggle('show');
});
window.addEventListener('click',e=>{
  if(!e.target.closest('#action-center')){
    document.getElementById('action-center').classList.remove('show');
  }
});
// 窗口点击聚焦
window.addEventListener('mousedown',e=>{
  const win=e.target.closest('.window');
  if(win){
    focusWindow(win.id);
  }
});
</script>
</body>
</html>
